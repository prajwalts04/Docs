<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Document Upload</title>

<style>
  body {
    font-family: Arial;
    background: #f2f2f2;
    margin: 0;
    padding: 0;
  }
  .container {
    background: #fff;
    width: 92%;
    max-width: 420px;
    padding: 20px;
    margin: 30px auto;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
  h2 {
    text-align: center;
    margin-bottom: 15px;
  }
  label {
    font-size: 14px;
    display: block;
    margin-top: 12px;
  }
  input[type="text"], input[type="tel"] {
    width: 100%;
    padding: 12px;
    font-size: 16px;
    margin-top: 6px;
    border: 1px solid #ccc;
    border-radius: 8px;
  }
  input[type="file"] {
    margin-top: 10px;
  }
  button {
    width: 100%;
    padding: 12px;
    margin-top: 18px;
    border: none;
    border-radius: 8px;
    background: #4CAF50;
    font-size: 17px;
    color: white;
  }
  #progress-container {
    width: 100%;
    background: #ddd;
    border-radius: 10px;
    margin-top: 15px;
    height: 14px;
    display: none;
  }
  #progress-bar {
    width: 0%;
    height: 100%;
    background: #4CAF50;
    border-radius: 10px;
  }
  #status-text {
    text-align: center;
    margin-top: 10px;
    font-size: 14px;
    display: none;
  }
</style>
</head>

<body>
<div class="container">

  <h2>Upload Your Document</h2>

  <label>Name *</label>
  <input id="name" type="text" required>

  <label>Contact Number *</label>
  <input id="contact" type="tel" maxlength="10" required>

  <label>Select PDF *</label>
  <input id="file" type="file" accept="application/pdf" required>

  <button onclick="uploadFile()">Upload</button>

  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>

  <div id="status-text"></div>

</div>

<script>
const uploadURL = "YOUR_SCRIPT_URL_HERE"; // Replace

function uploadFile() {
  let name = document.getElementById("name").value.trim();
  let contact = document.getElementById("contact").value.trim();
  let file = document.getElementById("file").files[0];

  if (!name || !contact || !file) {
    alert("All fields are required.");
    return;
  }

  if (!/^[0-9]{10}$/.test(contact)) {
    alert("Enter a valid 10-digit contact number.");
    return;
  }

  if (file.type !== "application/pdf") {
    alert("Only PDF allowed.");
    return;
  }

  let formData = new FormData();
  formData.append("name", name);
  formData.append("contact", contact);
  formData.append("file", file);

  let xhr = new XMLHttpRequest();
  xhr.open("POST", uploadURL, true);

  let startTime = Date.now();

  xhr.upload.onprogress = function (e) {
    if (e.lengthComputable) {
      document.getElementById("progress-container").style.display = "block";
      document.getElementById("status-text").style.display = "block";

      let percent = Math.round((e.loaded / e.total) * 100);
      let elapsed = (Date.now() - startTime) / 1000;
      let speed_MBps = (e.loaded / 1024 / 1024 / elapsed).toFixed(2);

      document.getElementById("progress-bar").style.width = percent + "%";
      document.getElementById("status-text").innerText =
        `Uploading... ${percent}% • ${speed_MBps} MB/s`;
    }
  };

  xhr.onload = function () {
    if (xhr.status === 200) {
      document.getElementById("status-text").innerText = "Upload Complete ✔";
    } else {
      document.getElementById("status-text").innerText = "Upload Failed ❌";
    }
  };

  xhr.send(formData);
}
</script>

</body>
</html>
